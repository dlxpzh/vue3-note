## 从Chrome Performance看页面性能分析

### 一、名词解释

#### 1： FPS

全称Frames Per Second，即每秒传输帧数（即每秒重新渲染次数），数值越大越流畅

fps = 60 性能最佳（和目前大多数显示器的刷新率吻合，可同步刷新）

fps < 24 会让用户感觉到卡顿，因为人眼的识别主要是 24 帧，如果出现红色块则表示长时间帧，可能出现卡顿

#### 2：CPU

cpu资源占用，指消耗CPU资源的事件类型

#### 3：NET

网络请求

#### 4：屏幕快照

显示每一帧的页面快照

#### 5：火焰图

关键的三个火焰图：Network、Frames、Main

#### 6：统计汇总

Summany统计图表、Bottom-Up事件时长排序、Call Tree事件调用顺序、Event Log事件发生顺序

### 二、回流与重绘

#### 1：重绘

更新元素的属性，只影响外观、风格，不影响布局

比如color、visibility、background等

#### 2：回流

更新元素的规模尺寸，布局，隐藏等

比如width、padding、border、display、scrollTop、offsetTop等

#### 3：注意点

1、回流一定导致重绘，重绘不一定导致回流

2、多次改变（比如for循环调用）元素的属性，不一定引发多次回流重绘，因为浏览器有缓冲机制，通过缓冲机制可以合并回流重绘的次数

3、但如果是在改变元素的属性之后再获取偏移量属性如offsetTop，则不会触发缓冲机制，因为浏览器需要重新布局来获取最新的offsetTop值